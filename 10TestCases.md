# Тест кейсы для веб-приложения MetaMask

### Выполнил Савельев Дмитрий

Для всех приложений, а уж тем более для приложений, которые работают с финансами, просто необходима надежная защита, чтобы поддерживать высочайший уровень безопасности и конфиденциальности. в MetaMask при выходе из браузера осуществялется выход из кошелька. Таким образом, каждый раз нужно вводить пароль заново. К тому же смена пароля здесь выполнена очень надежным способом: чтобы изменить пароль, нужно ввести секретную фразу из 12 слов, которые были сгенерированы при создании аккаунта.

## 1. Восстановление пароля

|  Номер                                                                            |  1                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Восстановление пароля                                                                    |
|  Предусловие                                                                      |  Создан кошелек                                                                           |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| В низу окна плагина нажать на ссылку "импортировать с использованием секретной    |  Переход на страницу для восстановления пароля                                            | | фразы восстановления"                                                             |                                                                                           |
| В поле "Секретная фраза восстановления кошелька" ввести корректную секретную фразу|  В поле "Секретная фраза восстановления кошелька" выводится замаскированная фраза         | |с использованием символов латиницы и пробелов или вставить из буфера обмена        |  восстановления                                                                           |
| В поле "Новый пароль (мин.8 символов)" ввести пароль, состоящий из не менее 8     | В поле "Новый пароль (мин.8 символов)" отображается замаскированный пароль                | | символов                                                                          |                                                                                           | 
| В поле "Подтвердить пароль" ввести пароль, совпадающий с тем, что был введен на   | В поле "Подтвердить пароль" отображается замаскированный пароль                           |  | предыдущем шаге                                                                   |                                                                                           |
| Под формой восстановления пароля нажать кнопку "Восстановить"                     | Откроется окно для входа в кошелек с запросом на введение пароля                          |

Чтобы можно было тестировать возможности перевода необходимо иметь каку-то сумму на счете. Так как мы используем тестовую сеть Ropsten, получить небольшое количество "эфира" не проблема.

## 2. Купить Ether

|  Номер                                                                            |  2                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Купить Ether                                                                             |
|  Предусловие                                                                      |  Создан кошелек                                                                           |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Под счетом кликнуть по кнопке "Купить"                                            |  Откроется страница для выбора способа пополнения счета                                   |
| Нажать на кнопку "Получить Ether"                                                 |  Откроется сайт с тестовой валютой                                                        | 
| Кликнуть по кнопке "request 1 ether from faucet"                                  | На счет добавится 0,3 ETH                                                                 |

Одной из основных функций кошелька - перевод средств между счетами. Поэтому требования к выполнению данного функционала высоки.

## 3. Перевод средств на другой свой счет

|  Номер                                                                            |  3                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Перевод средств на другой свой счет                                                      |
|  Предусловие                                                                      |  На счете отправителя есть средства                                                       |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Под суммой на счете нажать кнопку "Отправить"                                     |  Переход на страницу для выбора получателя                                                |
| Под полем ввода публичного адреса кликнуть по ссылке "Перевод между моими счетами"|  Переход на страницу с выбором счета получателя                                           | 
| Среди появившегося под полем ввода публичного адреса списка счетов выбрать        | Переход на страницу с выбором суммы перевода                                              | | необходимый                                                                       |                                                                                           | 
| В поле "Сумма:" ввести сумму перевода большую нуля и не большую суммы на счете    | В поле "Сумма:" отображается сумма перевода                                               |  | отправителя                                                                       |                                                                                           |
| Внизу страницы кликнуть на кнопку "Отправить"                                     | Со счета отправителя снимут деньги, которые он перевел на другой счет и комиссия          |

Гораздо интереснее перевод средств на счет другого пользователя.

## 4. Перевод средств на счет другого пользователя

|  Номер                                                                            |  4                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Перевод средств на счет другого пользователя                                             |
|  Предусловие                                                                      |  На счете отправителя есть средства                                                       |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Под суммой на счете нажать кнопку "Отправить"                                     |  Переход на страницу для выбора получателя                                                |
| В поле ввода публичного адреса ввести публичный адрес получателя                  |  В поле ввода публичного адреса отображается публичный адрес получателя и появится поле   | |                                                                                   | ввода суммы перевода                                                                      | 
| В поле "Сумма:" ввести сумму перевода большую нуля и не большую суммы на счете    | В поле "Сумма:" отображается замаскированный пароль                                       |  | отправителя                                                                       |                                                                                           |
| Внизу страницы кликнуть на кнопку "Отправить"                                     | Со счета отправителя снимут деньги, которые он перевел на другой счет и комиссия          |

В MetaMask можно добавить свою собственную (частную сеть) и тестировать функционал приложения таким образом. Для этого требуется отдельное приложение Ganache. В нем генерируются адреса заданного количества счетов с определенной суммой на счете. Помимо создания своей частной сети MetaMask позволяет импортировать счет из Ganache. А это открывает широкий спектр возможностей кошелька.

## 5. Импортирование счета

|  Номер                                                                            |  5                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Импортирование счета                                                                     |
|  Предусловие                                                                      |  Развернутая частная сеть со свободными адресами                                          |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Рядом со счетом нажать на кнопку "Частная сеть Ropsten"                           |  Откроется список доступных сетей                                                         |
| Внизу списка доступных сетей выбрать "Пользовательский RPC"                       |  Откроется форма для заполнения данных о частной сети                                     | 
| В поле "Имя сети" ввести произвольное имя для создаваемой сети                    | В поле "Имя сети" отображается введенное нами имя сети                                    |
| В поле "Новый URL RPC" ввести RPC Server нужной частной сети                      | В поле "Новый URL RPC" отображается введенный нами RPC Server                             | 
| В поле "Идентификатор цепочки" ввести 1337                                        | В поле "Идентификатор цепочки" отображается число 1337                                    | 
| В поле "Символ валюты" ввести символьное обозначение валюты, которая будет у всех | В поле "Символ валюты" отображается символьное обозначение валюты                         | | счетов этой частной сети                                                          |                                                                                           |
| Внизу страницы кликнуть на кнопку "Сохранить"                                     | Откроется счет в только что добавленной частной сети                                      |
| Кликнуть по кнопке счета                                                          |  Откроется список счетов и действия с ними                                                |
| Нажать на ссылку "Импортировать счет"                                             |  Откроется окно для ввода приватного адреса счета                                         |
| В поле для ввода вставляем свободный приватный адрес или вводим с клавиатуры      |  Приватный адрес отображается в поле для ввода                                            |
| Внизу окна кликнуть по кнопке "Импорт"                                            | Откроется страница с импортированным счетом                                               |

Одной из таких возможностей являются смарт-контракты. Мы можем развернуть свой смарт-контракт с помощью remix.ethereum.org, привязать его к счету частной сети и получить на него токен, используя его адрес.

## 6. Добавление токена на счет

|  Номер                                                                            |  6                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Добавление токена на счет                                                                |
|  Предусловие                                                                      |  Созданный смарт-контракт и адрес контракта токена, кошелек нахидтся в частной сети       |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Под списком активов счета нажать на кнопку "Добавить токен"                       |  Откроется страница для добавления токена                                                 |
| В поле "Адрес контракта токена" ввести либо вставить из буфера адрес токена       |  В поле "Адрес контракта токена" отобразится введенный нами адрес                         | 
| В поле "Символ токена" ввести произвольный символ токена                          | В поле "Символ токена" отображается введенное нами имя для токена                         |
| Внизу страницы кликнуть по кнопке "Далее"                                         | На счет будет добавлен токен с обозначением, которое мы его присвоили                     | 

Полученные токены также можно переводить между счетами частной сети.

## 7. Перевод токена на другой счет

|  Номер                                                                            |  7                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Перевод токена на другой счет                                                            |
|  Предусловие                                                                      |  Наличие токена на счете, развернутая частная сеть                                        |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| В списке активов выбрать нужный токен и кликнуть по нему                          |  Откроется окно для выбора получателя                                                     |
| Под полем ввода публичного адреса кликнуть по ссылке "Перевод между моими счетами"|  Переход на страницу с выбором счета получателя                                           | 
| Среди появившегося под полем ввода публичного адреса списка счетов выбрать        | Переход на страницу с выбором суммы перевода                                              | | необходимый                                                                       |                                                                                           | 
| В поле "Сумма" ввести сумму перевода большую нуля и меньшую суммы на счете        | В поле "Сумма" отображается введенная нами сумма перевода                                 |
| Внизу страницы нажать кнопку "Далее"                                              | Переход на страницу с информацией о переводе                                              | 
| Внизу страницы кликнуть по кнопке "Подтвердить"                                   | Откроется счет отправителя, с которого спишется перевод с комиссией. Получатель получит   |  |                                                                                   | сумму перевода                                                                            | 

## 8. Перевод токена на чужой счет

|  Номер                                                                            |  8                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Перевод токена на чужой счет                                                             |
|  Предусловие                                                                      |  Наличие токена на счете, развернутая частная сеть                                        |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| В списке активов выбрать нужный токен и кликнуть по нему                          |  Откроется окно для выбора получателя                                                     |
| Под полем ввода публичного адреса ввести адрес получателя в этой же частной сети  |  Переход на страницу с выбором суммы перевода                                             | 
| В поле "Сумма" ввести сумму перевода большую нуля и меньшую суммы на счете        | В поле "Сумма" отображается введенная нами сумма перевода                                 |
| Внизу страницы нажать кнопку "Далее"                                              | Переход на страницу с информацией о переводе                                              | 
| Внизу страницы кликнуть по кнопке "Подтвердить"                                   | Откроется счет отправителя, с которого спишется перевод с комиссией. Получатель получит   |  |                                                                                   | сумму перевода                                                                            | 

Важным понятием в блокчейне является понятие топлива (Gas Fee). Топливо - это своего рода комиссия, от размера которой зависит скорость обработки транзакции. Ее можно менять вручную во время создания транзакции и после (если успеете).

## 9. Изменить скорость обработки транзакции

|  Номер                                                                            |  9                                                                                        |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Изменить скорость обработки транзакции                                                   |
|  Предусловие                                                                      |  Запущенная, но не выполненная транзакция                                                 |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Под счетом кликнуть по ссылке "Активность"                                        |  Откроется список активности счета                                                        |
| Возле незавершенной транзакции нажать кнопку "Ускорить"                           |  Откроется окно для редактирования Gas Fee                                                | 
| В поле "Цена топлива" указать желаемую цену Gas Fee                               | В поле "Цена топлива" отображается введенная нами стоимость Gas Fee                       |
| В поле "Предел топлива" указать предельное количество затрачиваемого топлива      | В поле "Предел топлива" отображается нужный предел для Gas Fee                            | 
| Внизу страницы кликнуть по кнопке "Сохранить"                                     | Изменится скорость обработки транзакции, а также ее стоимость                             | 

Чтобы упростить возможность перевода средств между счетами можно добавлять пользователей в друзей. Тогда при создании транзакции они буду отображаться в списке под полем ввода публичного адреса.

## 10. Добавить друга

|  Номер                                                                            |  10                                                                                       |
|-----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|  Заголовок                                                                        |  Добавить друга                                                                           |
|  Предусловие                                                                      |  Создан кошелек                                                                           |
|  Шаг                                                                              |  Ожидаемый результат                                                                      |
| Нажать на "Мои счета" сверху справа страницы                                      |  Откроется список действий со счетами                                                     |
| Перейти по ссылке "Настройки"                                                     |  Откроется страница с настройками                                                         | 
| Кликнуть по ссылке "Контактная информация"                                        | Откроется страница с контактной информацией пользователя                                  |
| Сверху страницы нажать на кнопку "Добавить контакт"                               | Откроется форма добавления нового друга                                                   |
| В поле "Имя пользователя" записать имя друга, которое будет отображаться          | В поле "Имя пользователя" появится написанное нами имя                                    |
| В поле "Публичный адрес Ethereum" ввести публичный адрес друга                    | В поле "Публичный адрес Ethereum" отображается адрес пользователя                         |
| Кликнуть по кнопке "Сохранить"                                                    | Пользователь с введенным адресом сохранится под заданным именем                           |



